{% extends 'base.html' %}
{% load static %}
{% load expense_filters %}

{% block content %}
<h1>Edit Transaction</h1>
<div class="edit-transaction">
    {% if transaction|is_spent %}
    <form method="POST" action="{% url 'edit_transaction' transaction.id 0 %}">
    {% else %}
    <form method="POST" action="{% url 'edit_transaction' transaction.id 1 %}">
    {% endif %}
        {% csrf_token %}
        <label for="id_description">Description:</label>
        {{ form.description }}

        <label for="id_amount">Amount:</label>
        {{ form.amount }}

        <label for="id_category">Category:</label>
        {{ form.category }}

        <label for="id_transaction_type">Transaction Type:</label>
        {{ form.transaction_type }}
        <div class="center_div">
            <button type="submit">Save Changes</button>
        </div>
    </form>
    <div class="right_div" style="gap: 10px;">
        {% if transaction|is_spent %}
        <button onclick="deleteExpense('{{ transaction.id }}')">Delete Expense</button>
        {% else %}
        <button onclick="deleteEarning('{{ transaction.id }}')">Delete Earning</button>
        {% endif %}
        <a href="{% url 'expenses' %}">
            <button>Back</button>
        </a>
    </div>
</div>

<script src="{% static 'finance/js/expenses.js' %}"></script>
{% endblock %}